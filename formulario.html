<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Acesso</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header id="barra">
    <h1 id="disclaimer">Por favor insira as informações a seguir. Elas são para checar quem acessa o currículo.</h1>  
    <a id="voltar" href="index.html">Retornar</a>
</header>
<div class="forml centralizar">
<form action="https://formsubmit.co/c219a68d64292f838fab3d0e34c927a4" method="POST">
  <div class="legenda">
   <label for="nome">Nome:</label>
  </div> 
   <div class="linha">
     <input placeholder="Nome "type="text" id="nome" name="nome" required>
     </div>
     <div class="legenda"> 
     <label for="snome">Sobrenome:</label>
     </div>
   <div class="linha">  
     <input placeholder="Sobrenome" type="text" id="snome" name="snome" required>
   </div>  
   <div class="legenda">
     <label for="idade">Idade:</label>  
     </div>
   <div class="linha">  
     <input placeholder="Idade" type="number" id="idade" name="idade" required>
   </div>  
   <div class="legenda">
     <label for="mail">Email:</label>
    </div>
    <div class="linha">
     <input placeholder="Email" type="email" id="mail" name="mail" required>
     </div><br>
  <div class="texto centralizar">
     <textarea placeholder="Digite sua mensagem." name="msg" class="mensagem" rows="10" style="height:200px">Escreva uma mensagem!</textarea><br>
  </div>
     <input type="hidden" name="_captcha" value="true">
     <input type="hidden" name="_next" value="index.html">
     <input type="submit" id="envio" value="Enviar" hidden>
</form>   
<button id="enviar">Enviar</button>

<script>
  const baixarPdf = document
           .querySelector("#enviar");
 
  const enviarForm = document
           .querySelector("#envio");
           
           baixarPdf.addEventListener("click", () => {
      let nome = document.getElementById("nome").value;
      let snome = document.getElementById("snome").value;
      let idade = document.getElementById("idade").value;
      let mail = document.getElementById("mail").value;

      if (nome && snome && idade && mail){
         let element = document.createElement("a");
           element.href = './Curriculo.pdf';
           element.download = 'Curriculo.pdf'
           element.click();

           document.documentElement.appendChild(element);
           element.click();
           enviarForm.click();
          } else {
            alert("Por favor, preencha todos os campos antes de baixar o PDF.");
          }
       });
</script>

<div vw class="enabled">
  <div vw-access-button class="active"></div>
  <div vw-plugin-wrapper>
    <div class="vw-plugin-top-wrapper"></div>
  </div>
</div>
<script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
<script>
  new window.VLibras.Widget('https://vlibras.gov.br/app');
</script>
</body>
</html>